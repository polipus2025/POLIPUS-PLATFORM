<!DOCTYPE html>
<html>
<head>
    <title>Auth Debug</title>
</head>
<body>
    <h2>Authentication Debug Tool</h2>
    <div id="auth-info"></div>
    <button onclick="checkAuth()">Check Authentication State</button>
    <button onclick="clearStorage()">Clear All Storage</button>
    <button onclick="setTestAuth()">Set Test Auth Token</button>
    
    <script>
        function checkAuth() {
            const authData = {
                authToken: localStorage.getItem("authToken"),
                userType: localStorage.getItem("userType"),
                userRole: localStorage.getItem("userRole"),
                token: localStorage.getItem("token"),
                username: localStorage.getItem("username"),
                allKeys: Object.keys(localStorage)
            };
            
            document.getElementById('auth-info').innerHTML = '<pre>' + JSON.stringify(authData, null, 2) + '</pre>';
            console.log('Auth Debug:', authData);
        }
        
        function clearStorage() {
            localStorage.clear();
            sessionStorage.clear();
            alert('Storage cleared');
            checkAuth();
        }
        
        function setTestAuth() {
            localStorage.setItem("authToken", "test-token-123");
            localStorage.setItem("userType", "regulatory");
            localStorage.setItem("userRole", "regulatory_admin");
            alert('Test auth set');
            checkAuth();
        }
        
        // Auto-check on load
        checkAuth();
    </script>
</body>
</html>